/*

Автор: Шумилко Н.Д. (4 вариант) (https://github.com/VetrovSV/OOP/blob/master/C/tasks.md)          <- ссылка на табличку с заданиями
                                  (https://bgu-chita.ru/zadachnik/Glava01/index01.htm#z339)        <- ссылка на задание (найти самому)

Задача 339в:
Даны целые числаa a1,..., an (в этой последовательности могут быть повторяющиеся члены).  Найти число различных членов последовательности.
*/
#include <stdio.h>
#include <stdlib.h>
#include <windows.h> // Для поддержки UTF-8 в консоли Windows

int main() {
    // Установка кодовой страницы вывода консоли на UTF-8 для корректного отображения кириллицы
    SetConsoleOutputCP(CP_UTF8);

    int n;

    // Запрашиваем у пользователя размер массива
    printf("Введите размер массива: ");
    scanf("%d", &n);

    // Выделяем память под массив вещественных чисел размером n
    float* array = (float*)malloc(n * sizeof(float));



    // Цикл для заполнения массива числами, введёнными пользователем
    for (int i = 0; i < n; i++) {
        printf("Введите число в массив, осталось %d: ", n - i);
        scanf("%f", &array[i]);
    }

    // Подсчёт количества уникальных элементов в массиве
    int uniqueCount = 0;

    for (int i = 0; i < n; i++) {
        int isUnique = 1; // Предполагаем, что текущий элемент уникален

        // Проверяем, встречался ли этот элемент ранее в массиве ( j<i )
        for (int j = 0; j < i; j++) {
            if (array[i] == array[j]) {
                isUnique = 0; // Элемент уже встречался — не уникален
                break;
            }
        }

        // Если элемент уникален, увеличиваем счётчик уникальных элементов
        if (isUnique) {
            uniqueCount++;
        }
    }

    // Вывод содержимого массива
    printf("Массив: ");
    for (int i = 0; i < n; i++) {
        printf("%.1f ", array[i]); // Выводим числа с одним знаком после запятой
    }
    printf("\n");

    // Вывод результата — количество различных (уникальных) элементов
    printf("Число различных элементов: %d\n", uniqueCount);

    // Освобождение выделенной под массив памяти
    free(array);

    return 0;
}